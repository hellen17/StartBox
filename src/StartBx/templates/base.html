{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Google Tag Manager -->

     <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':

        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        
        })(window,document,'script','dataLayer','GTM-TZFK8V9');
        </script>
        
    <!-- End Google Tag Manager --> 
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

     <!-- SEO Meta Tags -->
     <meta name="description" content="Your one-stop shop for legal and compliance documents, and guidelines for startups and small business owners">
     <meta name="author" content="Your name">
     <meta name="keywords" content="Legal, Startups, Compliance,Legal documents, legal documents for startups,"> 

     <!-- OG Meta Tags to improve the way the post looks when you share the page on Facebook, Twitter, LinkedIn -->
     <meta property="og:site_name" content="StartBox" /> <!-- website name -->
     <meta property="og:site" content="https://startbx.com/" /> <!-- website link -->
     <meta property="og:title" content="StartBox"/> <!-- title shown in the actual shared post -->
     <meta property="og:description" content="Your one-stop shop for legal and compliance documents, and guidelines for startups and small business owners" /> <!-- description shown in the actual shared post -->
     <meta property="og:image" content="" /> <!-- image link, make sure it's jpg -->
     <meta property="og:url" content="https://startbx.com/" /> <!-- where do you want your post to link to -->
     <meta name="twitter:card" content="summary_large_image"> <!-- to have large image post format in Twitter -->
     <meta name="twitter:title" content="StartBox">
     <meta name="twitter:description" content="Your one-stop shop for legal and compliance documents, and guidelines for startups and small business owners">
     <meta name="twitter:site" content="@Startbx">
     <meta name="twitter:image" content=""><!-- image link, make sure it's jpg -->



    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'frontend/img/Startbox favicon.png' %}" sizes="16x16">
    <!-- End of Favicon -->
    <link rel="stylesheet" href="{% static 'frontend/css/home.css' %}">
    <link rel="stylesheet" href="{% static 'frontend/css/pricing.css' %}">
    <link rel="stylesheet" href="{% static 'frontend/css/testimonial.css' %}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Compiled and minified CSS -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->

    <!-- Compiled and minified JavaScript -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
             -->

           

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>

  
    <!-- Font Awesome cdn link-->
    <script src="https://kit.fontawesome.com/08d34252a8.js"></script>


    <!-- Webpage Title -->
    <title>StartBox</title>



    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato&family=Roboto&display=swap');

        :root {
            --theme-color:  #115E38;
        }
        
        body{
            font-family: 'Lato', sans-serif!important;
        }
        .btn {
          color: #fff;
          background-color: var(--theme-color)!important;
          border-color: var(--theme-color)!important;
       
      }
     
    </style>

    <!-- Start of Async Drift Code -->
      <script>
        "use strict";
        
        !function() {
          var t = window.driftt = window.drift = window.driftt || [];
          if (!t.init) {
            if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
            t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
            t.factory = function(e) {
              return function() {
                var n = Array.prototype.slice.call(arguments);
                return n.unshift(e), t.push(n), t;
              };
            }, t.methods.forEach(function(e) {
              t[e] = t.factory(e);
            }), t.load = function(t) {
              var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
              o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
              var i = document.getElementsByTagName("script")[0];
              i.parentNode.insertBefore(o, i);
            };
          }
        }();
        drift.SNIPPET_VERSION = '0.3.1';
        drift.load('xzm77hcka2z7');
      </script>
    <!-- End of Async Drift Code -->
    
</head>

{% include "navbar.html" %}

<body>

    <!-- Google Tag Manager (noscript) -->

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TZFK8V9"

    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    
    <!-- End Google Tag Manager (noscript) -->

    <div>
      {% if messages %}
          {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          {% endfor %}
      {% endif %}
    </div>
    
      {% block content  %}
      {% endblock content %}
  
      
      {% block extra_body %}
      {% endblock %}

      
      {% block CTA %}
      {% include "CTA.html" %} 
      {% endblock %}
        
      {% block footer %}
      {% include "footer.html" %} 
      {% endblock footer %}     
     

 
   
  </body>

<script src='https://js.braintreegateway.com/web/3.82.0/js/hosted-fields.min.js'></script>
<script src='https://js.braintreegateway.com/web/3.82.0/js/client.min.js'></script>
<script>
    var form = document.querySelector('#cardForm');
    braintree.client.create({
        authorization: '{{client_token}}'
    }, function (err, clientInstance) {
        if (clientInstance) {
            console.log(clientInstance);
        }
        if (err) {
            console.error(err);
            return;
        }

        braintree.hostedFields.create({
            client: clientInstance,
            styles: {
                input: {
                    // change input styles to match
                    // bootstrap styles
                    'font-size': '1rem',
                    color: '#495057'
                }
            },
            fields: {
                cardholderName: {
                    selector: '#cc-name',
                    placeholder: 'Name as it appears on your card'
                },
                number: {
                    selector: '#cc-number',
                    placeholder: '4111 1111 1111 1111'
                },
                cvv: {
                    selector: '#cc-cvv',
                    placeholder: '123'
                },
                expirationDate: {
                    selector: '#cc-expiration',
                    placeholder: 'MM / YY'
                }
            }
        }, function (err, hostedFieldsInstance) {
            if (err) {
                console.error(err);
                return;
            }
            function createInputChangeEventListener(element) {
                return function () {
                    validateInput(element);
                }
            }

            function setValidityClasses(element, validity) {
                if (validity) {
                    element.removeClass('is-invalid');
                    element.addClass('is-valid');
                } else {
                    element.addClass('is-invalid');
                    element.removeClass('is-valid');
                }
            }

            function validateInput(element) {
                // very basic validation, if the
                // fields are empty, mark them
                // as invalid, if not, mark them
                // as valid

                if (!element.val().trim()) {
                    setValidityClasses(element, false);

                    return false;
                }

                setValidityClasses(element, true);

                return true;
            }

            function validateEmail() {
                var baseValidity = validateInput(email);

                if (!baseValidity) {
                    return false;
                }

                if (email.val().indexOf('@') === -1) {
                    setValidityClasses(email, false);
                    return false;
                }

                setValidityClasses(email, true);
                return true;
            }

            var ccName = $('#cc-name');
            var email = $('#email');

            ccName.on('change', function () {
                validateInput(ccName);
            });
            email.on('change', validateEmail);


            hostedFieldsInstance.on('validityChange', function (event) {
                var field = event.fields[event.emittedBy];

                // Remove any previously applied error or warning classes
                $(field.container).removeClass('is-valid');
                $(field.container).removeClass('is-invalid');

                if (field.isValid) {
                    $(field.container).addClass('is-valid');
                } else if (field.isPotentiallyValid) {
                    // skip adding classes if the field is
                    // not valid, but is potentially valid
                } else {
                    $(field.container).addClass('is-invalid');
                }
            });

            hostedFieldsInstance.on('cardTypeChange', function (event) {
                var cardBrand = $('#card-brand');
                var cvvLabel = $('[for="cc-cvv"]');

                if (event.cards.length === 1) {
                    var card = event.cards[0];

                    // change pay button to specify the type of card
                    // being used
                    cardBrand.text(card.niceType);
                    // update the security code label
                    cvvLabel.text(card.code.name);
                } else {
                    // reset to defaults
                    cardBrand.text('Card');
                    cvvLabel.text('CVV');
                }
            });


   
            form.addEventListener("submit", function (event) {
                event.preventDefault();

                // var formIsInvalid = false;
                var state = hostedFieldsInstance.getState();

      
                hostedFieldsInstance.tokenize(function (err, payload) {
                        if (err) {
                            console.error(err);
                            return;
                        }
                        document.getElementById("nonce").value = payload.nonce;
                        document.getElementById('cardForm').submit()

                    });
            }, false);
  
        });
    });




</script>

</html>
